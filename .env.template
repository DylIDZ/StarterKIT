# ──────────────────────────────────────────────
# Environment Configuration
# Copy this file to .env and fill in the values.
# ──────────────────────────────────────────────

NODE_ENV="development"          # Options: 'development', 'production', 'test'
PORT="8080"                     # The port your server will listen on
HOST="localhost"                # Hostname for the server

# Database (PostgreSQL)
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/starterkit?schema=public"

# CORS Settings
CORS_ORIGIN="http://localhost:3000"  # Allowed CORS origin (your frontend URL)

# Rate Limiting
COMMON_RATE_LIMIT_WINDOW_MS="1000"   # Window size for rate limiting (ms)
COMMON_RATE_LIMIT_MAX_REQUESTS="20"  # Max number of requests per window per IP

# JWT Authentication
JWT_SECRET="your-super-secret-jwt-key-change-this-in-production-min-32-chars"
JWT_REFRESH_SECRET="your-super-secret-refresh-key-change-this-in-production-min-32-chars"
JWT_ACCESS_EXPIRY="15m"              # Access token TTL (e.g., 15m, 1h)
JWT_REFRESH_EXPIRY="7d"              # Refresh token TTL (e.g., 7d, 30d)

# ──────────────────────────────────────────────
# UTILITY MODULES (all optional — app runs without them)
# ──────────────────────────────────────────────

# Payment Gateway (Midtrans / Xendit)
PAYMENT_PROVIDER="midtrans"                # Options: 'midtrans', 'xendit'
MIDTRANS_SERVER_KEY=""
MIDTRANS_CLIENT_KEY=""
MIDTRANS_IS_PRODUCTION="false"
XENDIT_SECRET_KEY=""
XENDIT_WEBHOOK_TOKEN=""

# Cloud Storage (Supabase Storage — free 1GB)
SUPABASE_URL=""                            # e.g., https://xxxx.supabase.co
SUPABASE_SERVICE_KEY=""                    # Service role key (not anon key)
SUPABASE_STORAGE_BUCKET="uploads"

# Mailer (Brevo SMTP — free 300 email/day)
SMTP_HOST="smtp-relay.brevo.com"
SMTP_PORT="587"
SMTP_USER=""                               # Brevo SMTP login
SMTP_PASS=""                               # Brevo SMTP password
MAIL_FROM_NAME="StarterKit App"
MAIL_FROM_ADDRESS="noreply@example.com"

# Redis (for Caching + BullMQ Queue)
REDIS_URL="redis://localhost:6379"

# WhatsApp (Fonnte — local provider, no WABA setup)
FONNTE_API_TOKEN=""
FONNTE_API_URL="https://api.fonnte.com"

# Geolocation (Nominatim + OSRM — free, no API key needed)
NOMINATIM_BASE_URL="https://nominatim.openstreetmap.org"
OSRM_BASE_URL="http://localhost:5000"      # Self-hosted OSRM via Docker

# Two-Factor Authentication (Google Authenticator)
TWO_FACTOR_APP_NAME="StarterKitApp"

# Scheduler
SCHEDULER_ENABLED="true"
